<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Cadastro</title>
    <link rel="stylesheet" href="./css/style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="./js/dropdown.js" defer></script>
    <script src="./js/script.js" defer></script>
    <script src="./js/cep-api.js" defer></script>
    <script src="./js/password-visibility.js" defer></script>
</head>
<body>
    <nav>
        <div class="nav-inner">
            <div class="nav-left">
                <div class="brand">
                    <button class="dropbtn" onclick="mostrarApenasHome()" title="Home"><i class="material-icons">home</i></button>
                    <span class="brand-title">Prática - JavaScript</span>
                </div>
            </div>
            <div class="nav-right">
                <div class="dropdown" id="acountDropdown">
                    <button onclick="myFunction()" class="dropbtn" title="Menu da Conta"><i class="material-icons">account_circle</i></button>
                    <div id="myDropdown" class="dropdown-content">
                        <a href="#" onclick="mostrarApenasLogin();return false;">Fazer login</a>
                        <a href="#" onclick="mostrarApenasConta();return false;">Criar conta</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main>
        <div id="divHome" class="card">
            <h1>Prática - JavaScript (parte 3)</h1>
            <p>Este exercício simula uma página web dinâmica onde você trabalhará com HTML, CSS e JavaScript (DOM) para validar formulários, criar classes em JavaScript e integrar APIs (ViaCEP e IBGE).</p>
            <p>Use o menu de conta (canto superior direito) para abrir o formulário de login ou o de criação de nova conta. O botão Home (canto superior esquerdo) retorna para esta descrição.</p>
            <p>Regras rápidas: e-mail deve conter exatamente um '@'. CPF deve ser validado pela classe <code>CPF</code> (lançar exceção com mensagem quando inválido). Senhas devem coincidir e ser não vazias. Ao criar conta, gere um objeto <code>Conta</code> e mostre-o no console.</p>
        </div>

        <!-- Formulário de Criação de Conta (nova-conta) -->
        <div class="card" id="nova-conta" style="display: none;">
            <h1>Criar Nova Conta</h1>
            <form>
                <div class="form-group">
                    <label for="nome">Nome</label>
                    <input type="text" id="nome" name="nome" onblur="statusNome()" required>
                    <p id="statusNome" class="validation-message"></p>
                </div>

                <div class="form-group">
                    <label for="sobrenome">Sobrenome</label>
                    <input type="text" id="sobrenome" name="sobrenome" onblur="statusSobrenome()" required>
                    <p id="statusSobrenome" class="validation-message"></p>
                </div>

                <div class="form-group">
                    <label for="cpf">CPF</label>
                    <input type="text" id="cpf" name="cpf" onblur="validarCPF(this)" required>
                    <p id="statusCPF" class="validation-message"></p>
                </div>

                <div class="form-group">
                    <label for="email_create">E-mail</label>
                    <input type="text" id="email_create" name="email_create" required>
                    <p id="statusEmail" class="validation-message"></p>
                </div>

                <div class="form-group">
                    <label for="senha_nova">Senha</label>
                    <input type="password" id="senha_nova" name="senha_nova" required>
                    <p id="statusSenha" class="validation-message"></p>
                </div>

                <div class="form-group">
                    <label for="repita_senha">Repita a senha</label>
                    <input type="password" id="repita_senha" name="repita_senha" required>
                    <p id="statusRepitaSenha" class="validation-message"></p>
                </div>

                <!-- Endereço -->
                <div class="address-section full-width">
                    <h2>Endereço</h2>
                    <div class="form-group">
                        <label for="cep">CEP</label>
                        <input type="text" id="cep" name="cep" maxlength="8" placeholder="Somente números">
                        <div class="spinner" id="cepSpinner"></div>
                    </div>
                    <div class="address-grid">
                        <div class="form-group full-width">
                            <label for="logradouro">Logradouro</label>
                            <input type="text" id="logradouro" name="logradouro" readonly>
                        </div>
                        <div class="form-group">
                            <label for="bairro">Bairro</label>
                            <input type="text" id="bairro" name="bairro" readonly>
                        </div>
                        <div class="form-group">
                            <label for="complemento">Complemento</label>
                            <input type="text" id="complemento" name="complemento">
                        </div>
                    </div>
                </div>

                <!-- Localidade (UF e Município) -->
                <div class="location-section full-width">
                    <h2>Localidade</h2>
                    <div class="address-grid">
                        <div class="form-group">
                            <label for="uf">Estado</label>
                            <select id="uf" name="uf" required>
                                <option value="">Selecione o estado</option>
                            </select>
                            <div class="spinner" id="ufSpinner"></div>
                        </div>
                        <div class="form-group">
                            <label for="municipio">Município</label>
                            <select id="municipio" name="municipio" required disabled>
                                <option value="">Selecione o município</option>
                            </select>
                            <div class="spinner" id="municipioSpinner"></div>
                        </div>
                    </div>
                </div>

                <div class="form-group full-width" id="areaBotaoConta">
                    <input type="button" value="Criar Conta" disabled>
                </div>
            </form>
            <div class="toggle-form">
                <p>Já tem uma conta? <a href="#" onclick="mostrarApenasLogin();return false;">Faça login</a></p>
            </div>
        </div>

        <!-- Formulário de Login -->
        <div class="card" id="login-body" style="display: none;">
            <h1>Login</h1>
            <form>
                <div class="form-group">
                    <label for="login-email">E-mail</label>
                    <input type="text" id="login-email" name="login-email" required>
                </div>
                <div class="form-group">
                    <label for="login-password">Senha</label>
                    <input type="password" id="login-password" name="login-password" required>
                </div>
                <div class="form-group full-width" id="areaBotaoConta">
                    <input type="button" id="botaoLogin" value="Entrar" disabled>
                </div>
            </form>
            <div class="toggle-form">
                <p>Não tem uma conta? <a href="#" onclick="mostrarApenasConta();return false;">Cadastre-se</a></p>
            </div>
        </div>

        <!-- Seção pós-login: seletores IBGE -->
        <div class="card" id="post-login" style="display:none;">
            <h2>Seletores de UFs e Municípios (IBGE)</h2>
            <div class="address-grid">
                <div class="form-group">
                    <label for="uf_end">Estado</label>
                    <select id="uf_end"><option value="">Selecione o estado</option></select>
                </div>
                <div class="form-group">
                    <label for="municipio_end">Município</label>
                    <select id="municipio_end" disabled><option value="">Selecione o município</option></select>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 Sistema de Cadastro</p>
    </footer>

</body>
</html>
