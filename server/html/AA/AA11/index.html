<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8">
    <meta name="robots" content="noindex,nofollow">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Monitor de Mensagens">
    <meta name="author" content="Alec Coelho, Luan Costa">

    <link rel="stylesheet" href="css/ws.css">

    <title>Monitor de Mensagens TCP/UDP</title>
</head>

<body>
    <header>
        <div class="container">
            <h1>Monitor de Mensagens TCP/UDP</h1>
        </div>
    </header>

    <div class="container">
        <div class="server-status">
            <div class="status-indicator">
                <span class="status-dot status-offline" id="statusDot"></span>
                <span id="statusText">Verificando status do servidor...</span>
            </div>
            <div class="server-controls">
                <button id="startServer">Iniciar Servidor</button>
                <button id="stopServer">Parar Servidor</button>
                <button id="clearMessages">Limpar Mensagens</button>
            </div>
        </div>

        <div class="connection-stats">
            <div class="stat-card">
                <h3>Mensagens TCP</h3>
                <div class="count" id="tcpCount">0</div>
            </div>
            <div class="stat-card">
                <h3>Mensagens UDP</h3>
                <div class="count" id="udpCount">0</div>
            </div>
            <div class="stat-card">
                <h3>Total de Mensagens</h3>
                <div class="count" id="totalCount">0</div>
            </div>
        </div>

        <div class="messages-container">
            <div class="message-tabs">
                <div class="tab active" data-filter="all">Todas</div>
                <div class="tab" data-filter="tcp">TCP</div>
                <div class="tab" data-filter="udp">UDP</div>
            </div>
            <div class="message-list" id="messageList">
                <div class="no-messages" id="noMessages">
                    Nenhuma mensagem recebida ainda. Conecte clientes TCP/UDP para receber mensagens.
                </div>
            </div>
        </div>


            </div>

        <div class="debug-toggle" id="debugToggle">Exibir Informações de Depuração</div>
        <div class="debug-info" id="debugInfo"></div>
        
        <div class="download-section">
            <h3>Downloads</h3>
            <div class="download-buttons">
                <h4>Clientes de Teste:</h4>
                <a href="tcp_client.py" class="download-button" download>⬇️ Cliente TCP (tcp_client.py)</a>
                <a href="udp_client.py" class="download-button" download>⬇️ Cliente UDP (udp_client.py)</a>
                
                <h4>Código do Servidor:</h4>
                <a href="py/combined_server.py" class="download-button" download>⬇️ Servidor Combinado (combined_server.py)</a>
                <a href="py/server_manager.py" class="download-button" download>⬇️ Gerenciador (server_manager.py)</a>
            </div>
        </div>

        <div class="readme-section">
            <h3>Documentação</h3>
            <div class="readme-content">
                <section class="intro">
                    <h4>Monitor de Mensagens TCP/UDP com WebSocket</h4>
                    <p>Este projeto implementa um servidor de monitoramento que recebe mensagens via sockets TCP e UDP e as exibe em tempo real em uma interface web usando WebSockets.</p>
                    <p>O sistema é composto por um frontend (HTML/CSS/JS) que se comunica com um backend Python hospedado em um servidor Apache (VPS-UFSC).</p>
                </section>

                <section class="authors">
                    <h4>Autores</h4>
                    <ul>
                        <li>Alec Coelho</li>
                        <li>Luan Costa</li>
                    </ul>
                </section>

                <section class="usage">
                    <h4>Como Usar</h4>
                    
                    <div class="usage-step">
                        <h5>1. Iniciando o Servidor</h5>
                        <ul>
                            <li>Acesse o endereço no navegador: <code>http://pw.alec.coelho.vms.ufsc.br/AA/AA11/</code></li>
                            <li>O status do servidor deve aparecer como "Servidor offline"</li>
                            <li>Clique no botão "Iniciar Servidor"</li>
                            <li>O status deve mudar para "Servidor online (Conectado)"</li>
                        </ul>
                    </div>

                    <div class="usage-step">
                        <h5>2. Enviando Mensagens (Clientes)</h5>
                        <ul>
                            <li>Use os arquivos <code>tcp_client.py</code> e <code>udp_client.py</code> fornecidos na seção Downloads</li>
                            <li>Execute-os no seu computador local (ou em outro terminal)</li>
                            <li>Quando solicitado o URL do servidor, insira o endereço do VPS</li>
                            <li>Os clientes extrairão o host e usarão as portas corretas:
                                <ul>
                                    <li>TCP: porta 8080</li>
                                    <li>UDP: porta 8081</li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="usage-step">
                        <h5>3. Monitorando</h5>
                        <ul>
                            <li>As mensagens enviadas pelos clientes aparecerão em tempo real na interface web</li>
                            <li>Cada mensagem mostra:
                                <ul>
                                    <li>Tipo (TCP/UDP)</li>
                                    <li>IP do cliente</li>
                                    <li>Data e hora</li>
                                </ul>
                            </li>
                            <li>Use as abas para filtrar por tipo de mensagem</li>
                        </ul>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p style="font-size: 10pt">Servidor Combinado TCP/UDP com WebSocket – Alec Coelho, Luan Costa – INE/UFSC – <span id="2025"></span></p>
        </div>
    </footer>

    <script src="js/ws.js"></script>
</body>

</html>